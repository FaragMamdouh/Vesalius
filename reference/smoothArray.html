<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Apply iterative smoothing to Vesalius images — smoothArray • vesalius</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Apply iterative smoothing to Vesalius images — smoothArray" />
<meta property="og:description" content="Apply iterative smoothing to Vesalius images" />
<meta property="og:image" content="https://patrickcnmartin.github.io/Vesalius/docs/Vesalius_banner.png" />
<meta property="og:image:alt" content="Pool noodles configured to form the word poolnoodlr" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content="@patrickCNMartin" />
<meta name="twitter:site" content="@patrickCNMartin" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">vesalius</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Vesalius.html">Vesalius: Quick Start</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Apply iterative smoothing to Vesalius images</h1>
    
    <div class="hidden name"><code>smoothArray.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Apply iterative smoothing to Vesalius images</p>
    </div>

    <pre class="usage"><span class='fu'>smoothArray</span><span class='op'>(</span>
  <span class='va'>image</span>,
  method <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"median"</span>, <span class='st'>"iso"</span>, <span class='st'>"box"</span><span class='op'>)</span>,
  iter <span class='op'>=</span> <span class='fl'>1</span>,
  sigma <span class='op'>=</span> <span class='fl'>1</span>,
  box <span class='op'>=</span> <span class='fl'>20</span>,
  threshold <span class='op'>=</span> <span class='fl'>0</span>,
  neuman <span class='op'>=</span> <span class='cn'>TRUE</span>,
  gaussian <span class='op'>=</span> <span class='cn'>TRUE</span>,
  na.rm <span class='op'>=</span> <span class='cn'>FALSE</span>,
  acrossLevels <span class='op'>=</span> <span class='st'>"min"</span>,
  invert <span class='op'>=</span> <span class='cn'>FALSE</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>image</th>
      <td><p>a Vesalius data frame
(containing at least barcodes, x, y, cc, value) or a cimg object.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>character describing smoothing method to use "median" ,
"iso"  or "box"</p></td>
    </tr>
    <tr>
      <th>iter</th>
      <td><p>numeric - number of smoothing iteration</p></td>
    </tr>
    <tr>
      <th>sigma</th>
      <td><p>numeric - standard deviation associated with isoblur (Gaussian)</p></td>
    </tr>
    <tr>
      <th>box</th>
      <td><p>numeric describing box size (centered around center pixel)
for smoothing</p></td>
    </tr>
    <tr>
      <th>threshold</th>
      <td><p>numeric - discard pixels that are too low in value (cutoff
threshold only applied in box/median blurs).</p></td>
    </tr>
    <tr>
      <th>neuman</th>
      <td><p>logical describing If Neumann boundary conditions should be
used, Dirichlet otherwise (default true, Neumann)</p></td>
    </tr>
    <tr>
      <th>gaussian</th>
      <td><p>logical - use gaussian filter</p></td>
    </tr>
    <tr>
      <th>na.rm</th>
      <td><p>logical describing if NA values should be removed</p></td>
    </tr>
    <tr>
      <th>acrossLevels</th>
      <td><p>character - method used to account for multiple smoothing
levels (see details). Select from: "min","mean", "max"</p></td>
    </tr>
    <tr>
      <th>invert</th>
      <td><p>logical - If TRUE, colours will be inverted i.e. 1 - colorValue
(background set to 1 instead of 0).</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical - progress message output.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns a Vesalius data.frame with "barcodes","x","y","cc",
"value","tile",...</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Images produced by Vesalius should be smoothed in order to retrieve
territories. The <code>smoothArray</code> function provides multiple ways to smooth
an image array.</p>
<p>First, consider the smoothing method : median, iso ,or box. Median and box
both require the <code>box</code> argument to be set according to your needs.
Median converts all pixels surronding a center pixel to the median value of
the selected box. Box converts all pixels to the value of the center pixel.
Iso applies a gaussian blur and is modulated by the <code>sigma</code> argument.</p>
<p>Both the <code>box</code> and <code>sigma</code> arguments can take more than one value.
Both may take a vector of positive numeric values. During every smoothing
iteration, Vesalius will map this vector over multiple copies of the image
and summarize the final smoothed image by taking values across different
levels. The levels are: min, max, and mean. Min will take the lowest pixel
value (in all three colour channels) across all levels. Max will take the
the highest pixel value (in all three colour channels) across levels. Mean
will take the average pixel value (in all three colour channels) across
levels.</p>
<p>The optimal smoothing values will depend on the question at hand and which
territories you wish to extract.</p>
<p>NOTE: this function is applied internally in the
<code>iterativeSegmentation.array</code> function.</p>
<p>For more information, we suggest reading through the imager vignette.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>Vesalius</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Patrick C.N. Martin.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


